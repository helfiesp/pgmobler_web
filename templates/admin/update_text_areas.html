{% extends "base/base.html" %}
{% load static %}
{% load form_tags %}
{% block content %}

<link rel="stylesheet" href="{% static 'css/update_products.css' %}">
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">

<div class="container mt-4">
    <h1>Tekstoversikt</h1>
    
    <!-- Navigation Tabs -->
    <ul class="nav nav-tabs" id="myTab" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" id="text-areas-tab" data-toggle="tab" href="#text-areas" role="tab" aria-controls="text-areas" aria-selected="true">Text Areas</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="footer-areas-tab" data-toggle="tab" href="#footer-areas" role="tab" aria-controls="footer-areas" aria-selected="false">Footer Areas</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="business-info-tab" data-toggle="tab" href="#business-info" role="tab" aria-controls="business-info" aria-selected="false">Business Information</a>
        </li>
    </ul>

    <!-- Tab Content -->
    <div class="tab-content" id="myTabContent">
        <!-- Text Areas Tab -->
        <div class="tab-pane fade show active" id="text-areas" role="tabpanel" aria-labelledby="text-areas-tab">
            <h2 class="mt-3">Text Areas</h2>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Front Page Header</th>
                        <th>Front Page Subtitle</th>
                        <th>Button Text</th>
                        <th>Recent Product Header</th>
                        <th>Bestselger Overskrift</th>
                        <th>Nav Items</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for text_area in text_areas %}
                    <tr>
                        <form method="post" action="{% url 'update_text_areas_id' text_area.id %}">
                            {% csrf_token %}
                            <td><input type="text" class="form-control" name="front_page_header" value="{{ text_area.front_page_header }}"></td>
                            <td><input type="text" class="form-control" name="front_page_subtitle" value="{{ text_area.front_page_subtitle }}"></td>
                            <td><input type="text" class="form-control" name="front_page_button_text" value="{{ text_area.front_page_button_text }}"></td>
                            <td><input type="text" class="form-control" name="recent_product_header" value="{{ text_area.recent_product_header }}"></td>
                            <td><input type="text" class="form-control" name="bestseller_header" value="{{ text_area.bestseller_header }}"></td>
                            <td>
                                <input type="text" class="form-control" name="nav_item_1" value="{{ text_area.nav_item_1 }}">
                                <input type="text" class="form-control mt-1" name="nav_item_2" value="{{ text_area.nav_item_2 }}">
                                <input type="text" class="form-control mt-1" name="nav_item_3" value="{{ text_area.nav_item_3 }}">
                            </td>
                            <td><button type="submit" class="btn btn-primary">Update</button></td>
                        </form>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <!-- Footer Areas Tab -->
        <div class="tab-pane fade" id="footer-areas" role="tabpanel" aria-labelledby="footer-areas-tab">
            <h2 class="mt-3">Footer Text Areas</h2>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Footer Header 1</th>
                        <th>Footer Subtitle 1</th>
                        <th>Footer Header 2</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for footer_area in footer_text_areas %}
                    <tr>
                        <form method="post" action="{% url 'update_footer_textareas_id' footer_area.id %}">
                            {% csrf_token %}
                            <td><input type="text" class="form-control" name="footer_header_1" value="{{ footer_area.footer_header_1 }}"></td>
                            <td><input type="text" class="form-control" name="footer_header_1_subtitle" value="{{ footer_area.footer_header_1_subtitle }}"></td>
                            <td><input type="text" class="form-control" name="footer_header_2" value="{{ footer_area.footer_header_2 }}"></td>
                            <td><button type="submit" class="btn btn-primary">Update</button></td>
                        </form>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <!-- Business Information Tab -->
        <div class="tab-pane fade" id="business-info" role="tabpanel" aria-labelledby="business-info-tab">
            <h2 class="mt-3">Business Information</h2>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Street Address</th>
                        <th>Zip Code</th>
                        <th>Main Email</th>
                        <th>Main Phone</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for business_info in business_information %}
                    <tr>
                        <form method="post" action="{% url 'update_business_information' business_info.id %}">
                            {% csrf_token %}
                            <td><input type="text" class="form-control" name="street_address" value="{{ business_info.street_address }}"></td>
                            <td><input type="text" class="form-control" name="zip_code" value="{{ business_info.zip_code }}"></td>
                            <td><input type="email" class="form-control" name="main_email" value="{{ business_info.main_email }}"></td>
                            <td><input type="text" class="form-control" name="main_phone" value="{{ business_info.main_phone }}"></td>
                            <td><button type="submit" class="btn btn-primary">Update</button></td>
                        </form>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

{% endblock %}
